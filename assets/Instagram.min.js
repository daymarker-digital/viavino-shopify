var Instagram$1=Instagram={getAccessToken:function(){if(accessToken)return accessToken;var e=window.location.href.match(/access_token=([^&]*)/),t=window.location.href.match(/expires_in=([^&]*)/);if(e&&t){accessToken=e[1];var n=Number(t[1]);return window.setTimeout((function(){return accessToken=""}),3600*n),window.history.pushState("Access Token",null,"/"),accessToken}var a="https://accounts.spotify.com/authorize?client_id=".concat(clientId,"&response_type=token&scope=playlist-modify-public&redirect_uri=").concat(redirectUri);window.location=a},search:function(e){var t=Spotify.getAccessToken();return fetch("https://api.spotify.com/v1/search?type=track&q=".concat(e),{headers:{Authorization:"Bearer ".concat(t)}}).then((function(e){return e.json()})).then((function(e){return(e.tracks.items||[]).map((function(e){return console.log(e),{id:e.id,name:e.name,artist:e.artists[0].name,album:e.album.name,uri:e.uri,images:e.album.images,release_date:e.album.release_date,release_date_precision:e.album.release_date_precision}}))}))},savePlaylist:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];if(e&&t.length){var n,a=Spotify.getAccessToken(),s={Authorization:"Bearer ".concat(a)};return fetch("https://api.spotify.com/v1/me",{headers:s}).then((function(e){return e.json()})).then((function(a){return n=a.id,fetch("https://api.spotify.com/v1/users/".concat(n,"/playlists"),{headers:s,method:"POST",body:JSON.stringify({name:e})}).then((function(e){return e.json()})).then((function(e){var a=e.id;return fetch("https://api.spotify.com/v1/users/".concat(n,"/playlists/").concat(a,"/tracks"),{headers:s,method:"POST",body:JSON.stringify({uris:t})})}))}))}}};export{Instagram$1 as default};